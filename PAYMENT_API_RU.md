# üí≥ –ü–ª–∞—Ç–µ–∂–Ω—ã–π API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–∞ —Å–∞–π—Ç—ã

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

–≠—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø–ª–∞—Ç–µ–∂–Ω—ã–π —à–ª—é–∑ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –Ω–∞ –ª—é–±–æ–π —Å–∞–π—Ç (–∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω, –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å –∏ —Ç.–¥.)

### –ß—Ç–æ —ç—Ç–æ –¥–∞–µ—Ç?

‚úÖ –ü—Ä–∏–µ–º –ø–ª–∞—Ç–µ–∂–µ–π –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ  
‚úÖ –ì–æ—Ç–æ–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –æ–ø–ª–∞—Ç—ã  
‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 7 –≤–∞–ª—é—Ç (USD, EUR, GBP, CHF, JPY, CAD, AUD)  
‚úÖ –ó–∞—â–∏—â–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–ª–∞—Ç–µ–∂–µ–π  
‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ webhook  
‚úÖ –ö–æ–º–∏—Å—Å–∏—è 2.5% –∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é  

## üìù –ö–∞–∫ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á

‚ö†Ô∏è **–í–ê–ñ–ù–û: API –∫–ª—é—á–∏ –ù–ï —Å–æ–∑–¥–∞—é—Ç—Å—è –≤ –±–∏–∑–Ω–µ—Å-–¥–∞—à–±–æ—Ä–¥–µ –≤–∞—à–µ–≥–æ –±–∞–Ω–∫–∞!**

API –∫–ª—é—á–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –Ω–∞ **—Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤**:

1. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ —Å–∞–π—Ç –∏ –∞–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å
2. –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É **`/developer`** (–ü–æ—Ä—Ç–∞–ª —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "**Create New API Key**"
4. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ú–æ–π –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω")
5. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–∞—à API –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `pk_`)

üí° **–ü–æ–¥—Å–∫–∞–∑–∫–∞:** –ï—Å–ª–∏ –≤—ã –Ω–∞ –±–∏–∑–Ω–µ—Å-–¥–∞—à–±–æ—Ä–¥–µ (`/business/dashboard`), –Ω–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª "Payment Gateway API" –∏ –Ω–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "üîë –ü–µ—Ä–µ–π—Ç–∏ –∫ API –∫–ª—é—á–∞–º"

### –®–∞–≥ 2: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ

–û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `/public/integration-example.html` –≤ –±—Ä–∞—É–∑–µ—Ä–µ - —ç—Ç–æ –≥–æ—Ç–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

### –®–∞–≥ 3: –ò–Ω—Ç–µ–≥—Ä–∏—Ä—É–π—Ç–µ –Ω–∞ –≤–∞—à —Å–∞–π—Ç

#### JavaScript –ø—Ä–∏–º–µ—Ä:

```javascript
// –°–æ–∑–¥–∞–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞
const response = await fetch('https://–≤–∞—à-—Å–∞–π—Ç.com/api/payment-gateway/payments', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'X-API-Key': 'pk_–≤–∞—à_api_–∫–ª—é—á'
  },
  body: JSON.stringify({
    amount: 100,              // –°—É–º–º–∞
    currency: 'USD',          // –í–∞–ª—é—Ç–∞
    description: '–ó–∞–∫–∞–∑ #12345', // –û–ø–∏—Å–∞–Ω–∏–µ
    customerEmail: 'email@example.com',
    orderId: '12345',         // ID –∑–∞–∫–∞–∑–∞ –≤ –≤–∞—à–µ–π —Å–∏—Å—Ç–µ–º–µ
    successUrl: 'https://–≤–∞—à-—Å–∞–π—Ç.com/success',
    webhookUrl: 'https://–≤–∞—à-—Å–∞–π—Ç.com/webhook'
  })
});

const data = await response.json();

if (data.success) {
  // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –ø–æ–∫—É–ø–∞—Ç–µ–ª—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ–ø–ª–∞—Ç—ã
  window.location.href = data.paymentUrl;
}
```

#### PHP –ø—Ä–∏–º–µ—Ä:

```php
<?php
$apiKey = 'pk_–≤–∞—à_api_–∫–ª—é—á';
$apiUrl = 'https://–≤–∞—à-—Å–∞–π—Ç.com/api/payment-gateway/payments';

$data = [
    'amount' => 100,
    'currency' => 'USD',
    'description' => '–ó–∞–∫–∞–∑ #12345',
    'customerEmail' => 'email@example.com',
    'orderId' => '12345',
    'successUrl' => 'https://–≤–∞—à-—Å–∞–π—Ç.com/success',
    'webhookUrl' => 'https://–≤–∞—à-—Å–∞–π—Ç.com/webhook'
];

$options = [
    'http' => [
        'header' => [
            'Content-Type: application/json',
            "X-API-Key: $apiKey"
        ],
        'method' => 'POST',
        'content' => json_encode($data)
    ]
];

$context = stream_context_create($options);
$result = file_get_contents($apiUrl, false, $context);
$response = json_decode($result);

if ($response->success) {
    header('Location: ' . $response->paymentUrl);
}
?>
```

### –®–∞–≥ 4: –ü–æ–ª—É—á–∞–π—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–ù–∞—Å—Ç—Ä–æ–π—Ç–µ webhook –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ–± —É—Å–ø–µ—à–Ω—ã—Ö –ø–ª–∞—Ç–µ–∂–∞—Ö:

```javascript
app.post('/webhook', (req, res) => {
  const { event, paymentId, amount, currency, orderId } = req.body;
  
  if (event === 'payment.completed') {
    console.log(`–ü–ª–∞—Ç–µ–∂ ${paymentId} –Ω–∞ —Å—É–º–º—É ${amount} ${currency} –∑–∞–≤–µ—Ä—à–µ–Ω`);
    
    // –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä, –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ —É—Å–ª—É–≥—É –∏ —Ç.–¥.
    processOrder(orderId);
  }
  
  res.status(200).send('OK');
});
```

## üìö API Endpoints

### –°–æ–∑–¥–∞—Ç—å –ø–ª–∞—Ç–µ–∂
```
POST /api/payment-gateway/payments
Header: X-API-Key: –≤–∞—à_–∫–ª—é—á
```

### –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ø–ª–∞—Ç–µ–∂–∞
```
GET /api/payment-gateway/payments?paymentId=xxx
Header: X-API-Key: –≤–∞—à_–∫–ª—é—á
```

## üí∞ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∞–ª—é—Ç—ã

- üá∫üá∏ USD - –î–æ–ª–ª–∞—Ä –°–®–ê
- üá™üá∫ EUR - –ï–≤—Ä–æ
- üá¨üáß GBP - –§—É–Ω—Ç —Å—Ç–µ—Ä–ª–∏–Ω–≥–æ–≤
- üá®üá≠ CHF - –®–≤–µ–π—Ü–∞—Ä—Å–∫–∏–π —Ñ—Ä–∞–Ω–∫
- üáØüáµ JPY - –Ø–ø–æ–Ω—Å–∫–∞—è –∏–µ–Ω–∞
- üá®üá¶ CAD - –ö–∞–Ω–∞–¥—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä
- üá¶üá∫ AUD - –ê–≤—Å—Ç—Ä–∞–ª–∏–π—Å–∫–∏–π –¥–æ–ª–ª–∞—Ä

## üìä –ö–æ–º–∏—Å—Å–∏–∏

**2.5%** –∑–∞ –∫–∞–∂–¥—É—é —É—Å–ø–µ—à–Ω—É—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é

–ü—Ä–∏–º–µ—Ä: –ø—Ä–∏ –ø–ª–∞—Ç–µ–∂–µ $100, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ $97.50 (–∫–æ–º–∏—Å—Å–∏—è $2.50)

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚úÖ –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –±–µ–∑–æ–ø–∞—Å–Ω–æ  
‚úÖ –í—ã –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –≤–∏–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–∞—Ä—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤  
‚úÖ API –∫–ª—é—á–∏ –º–æ–∂–Ω–æ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç  
‚úÖ HTTPS –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤  
‚úÖ CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å–∞–π—Ç–æ–≤  

## üìñ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–º–æ—Ç—Ä–∏—Ç–µ –ø–æ–ª–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é API: [PAYMENT_API.md](PAYMENT_API.md)

## üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ò–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω
```javascript
// –ü—Ä–∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–∏ –∑–∞–∫–∞–∑–∞
createPayment({
  amount: cartTotal,
  description: `–ó–∞–∫–∞–∑ #${orderId}`,
  orderId: orderId
});
```

### –ú–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å
```javascript
// –ü—Ä–∏ –ø–æ–∫—É–ø–∫–µ —Ç–æ–≤–∞—Ä–∞ –æ—Ç –ø—Ä–æ–¥–∞–≤—Ü–∞
createPayment({
  amount: productPrice,
  description: `–ü–æ–∫—É–ø–∫–∞: ${productName}`,
  metadata: {
    sellerId: sellerId,
    productId: productId
  }
});
```

### –ü–æ–¥–ø–∏—Å–∫–∏
```javascript
// –ï–∂–µ–º–µ—Å—è—á–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞
createPayment({
  amount: 9.99,
  currency: 'USD',
  description: '–ü–æ–¥–ø–∏—Å–∫–∞ Premium –Ω–∞ 1 –º–µ—Å—è—Ü',
  orderId: `subscription_${userId}_${month}`
});
```

## üõ†Ô∏è –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–π API –∫–ª—é—á
2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ñ–∞–π–ª `integration-example.html`
3. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–≤–æ—é –∫–∞—Ä—Ç—É –∏–∑ –∞–∫–∫–∞—É–Ω—Ç–∞ –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–ª–∞—Ç–µ–∂–µ–π
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

## ‚ùì –ß–∞—Å—Ç–æ –∑–∞–¥–∞–≤–∞–µ–º—ã–µ –≤–æ–ø—Ä–æ—Å—ã

**Q: –ú–æ–∂–Ω–æ –ª–∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –¥–µ–Ω—å–≥–∏?**  
A: –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—Ç–∞ —Å—Ä–µ–¥—Å—Ç–≤ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –≤–æ–∑–≤—Ä–∞—Ç–∞.

**Q: –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–Ω–∏–º–∞–µ—Ç –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–µ–Ω–µ–≥?**  
A: –î–µ–Ω—å–≥–∏ –ø–æ—Å—Ç—É–ø–∞—é—Ç –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ (–º–∏–Ω—É—Å –∫–æ–º–∏—Å—Å–∏—è).

**Q: –ú–æ–∂–Ω–æ –ª–∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–∏–∑–∞–π–Ω —Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ–ø–ª–∞—Ç—ã?**  
A: –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –¥–∏–∑–∞–π–Ω–∞ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ.

**Q: –≠—Ç–æ –Ω–∞—Å—Ç–æ—è—â–∏–µ –¥–µ–Ω—å–≥–∏?**  
A: –ù–µ—Ç! –≠—Ç–æ –î–ï–ú–û-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ñ–µ–π–∫–æ–≤—ã–º–∏ –¥–µ–Ω—å–≥–∞–º–∏ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –ø–ª–∞—Ç–µ–∂–∏ –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ —á–µ—Ä–µ–∑ –ø—Ä–æ—Å—Ç–æ–π API!

---

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –≠—Ç–æ –¥–µ–º–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è. –í—Å–µ –¥–µ–Ω—å–≥–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ!
